<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>TURI – 柔らかいカースティクス</title>
<style>
  :root{
    --stage-w: min(1280px, 94vw);
    --ratio: 16/9;

    --water-opacity: .80;     /* 水層の不透明度 */
    --tint-color: #19b5c1;    /* 水色のティント */
    --tint-alpha: .22;        /* ティント濃度 */
    --caustics-alpha: .25;    /* 光の筋の濃度 */
  }

  *{ box-sizing: border-box }
  html,body{
    height:100%; margin:0;
    background:#05121a;
    font-family: system-ui, sans-serif;
  }
  .wrap{
    min-height:100%;
    display:grid; place-items:center;
    padding:16px;
  }

  .stage{
    position:relative;
    width: var(--stage-w);
    aspect-ratio: var(--ratio);
    overflow:hidden;
    border-radius: 18px;
    background:#000;
    box-shadow: 0 18px 48px rgba(0,0,0,.45);
  }
  .layer{
    position:absolute; inset:0;
    width:100%; height:100%;
    object-fit: cover;
    display:block;
    pointer-events:none;
  }

  /* レイヤー順 */
  #sand{ z-index: 1; }
  #waterBase{ z-index: 2; opacity: var(--water-opacity); }
  .tint{ z-index: 3; mix-blend-mode: multiply; background: color-mix(in srgb, var(--tint-color) calc(var(--tint-alpha)*100%), transparent); }
  .caustics{ z-index: 4; opacity: var(--caustics-alpha); mix-blend-mode: screen; background:#000; }
  #fish{ display:none; }
</style>
</head>
<body>
  <main class="wrap">
    <section class="stage">
      <!-- 背面：砂 -->
      <img id="sand" class="layer" src="assets/sand.png" alt="砂">
      <!-- 水のベース -->
      <img id="waterBase" class="layer" src="assets/water_background_80percent.png" alt="水">
      <!-- ティント -->
      <div class="layer tint"></div>
      <!-- 柔らかいカースティクス -->
      <div class="layer caustics"></div>
      <!-- 魚はまだ非表示 -->
      <img id="fish" class="layer" src="assets/fish.png" alt="魚影">
    </section>
  </main>

  <!-- SVGフィルタ：柔らかい水の光模様 -->
  <svg width="0" height="0">
    <filter id="causticsFilter">
      <!-- 大きくて柔らかいノイズ -->
      <feTurbulence type="fractalNoise" baseFrequency="0.005 0.02"
        numOctaves="2" seed="5" result="noise">
        <!-- 横方向にゆっくり流す -->
        <animateTransform attributeName="patternTransform"
          type="translate" from="0 0" to="200 0"
          dur="30s" repeatCount="indefinite"/>
      </feTurbulence>
      <!-- コントラスト強調を弱めに -->
      <feColorMatrix type="matrix" values="
        1 0 0 0 0
        0 1 0 0 0
        0 0 1 0 0
        0 0 0 6 -3" result="contrast"/>
      <!-- 柔らかくぼかす -->
      <feGaussianBlur stdDeviation="1.2"/>
    </filter>
  </svg>

  <style>
    .caustics{ filter:url(#causticsFilter); }
  </style>
</body>
</html>
