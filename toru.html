<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>透明ホットゾーン → 画像表示</title>
  <style>
    :root{
      --bg-image: url('assets/sougen2.png'); /* 背景（差し替えOK） */
      --panel-height: calc(100dvh * 5 / 9);     /* 下から 9分の5 の高さ */
    }

    html, body { height: 100%; }
    body{
      margin: 0;
      min-height: 100dvh;
      background: var(--bg-image) center / cover no-repeat fixed;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans JP", Meiryo, sans-serif;
      color: #fff;
    }

    /* うっすらスクリーン（不要なら削除） */
    .scrim{
      position: fixed; inset: 0;
      pointer-events: none;
      background: linear-gradient(to top, rgba(0,0,0,.25), transparent 40%);
    }

    /* ===== 透明のクリックゾーン（四角） =====
       完全透明だが、クリックは取れる。 */
    .hotzone{
      position: fixed;
      left: 0; right: 0; bottom: 0;
      height: var(--panel-height);
      background: transparent;            /* 透明で見えない */
      border: none;
      cursor: pointer;                    /* クリックできる雰囲気だけ出す */
      /* 視覚的な枠が欲しいときだけ開発用に表示：
         outline: 1px dashed rgba(255,255,255,.25); */
    }

    /* 画像を乗せるレイヤ（ホットゾーンの上に重ねる） */
    .reveal-layer{
      position: fixed;
      left: 0; right: 0; bottom: 0;
      height: var(--panel-height);
      display: grid;
      place-items: center;  /* 中央寄せ */
      pointer-events: none; /* 画像表示前はクリックを通す */
    }

    /* 表示する画像（最初は非表示） */
    .reveal-img{
      max-width: min(92vw, 900px);
      max-height: calc(var(--panel-height) - 24px);
      width: auto; height: auto;
      object-fit: contain;
      opacity: 0;
      transform: translateY(8px);
      transition: opacity 220ms ease, transform 220ms ease;
      pointer-events: auto; /* 表示後はクリック可能（閉じる用） */
      user-select: none;
    }
    .reveal-img.show{
      opacity: 1;
      transform: translateY(0);
    }

    /* キーボード操作でのアクセシビリティ */
    .hotzone:focus-visible{
      outline: 2px dashed rgba(255,255,255,.6);
      outline-offset: -2px;
    }
  </style>
</head>
<body>
  <div class="scrim"></div>

  <!-- クリックすると画像が出る透明の四角（見えない） -->
  <div class="hotzone" id="hotzone" role="button" tabindex="0"
       aria-label="画像を表示（下部の透明ゾーン）"></div>

  <!-- 画像を重ねる層（クリック後にフェードイン） -->
  <div class="reveal-layer" aria-hidden="true">
    <img id="revealImg" class="reveal-img" src="assets/karai-kudamono.png" alt="表示画像">
  </div>

  <script>
    const zone = document.getElementById('hotzone');
    const img  = document.getElementById('revealImg');
    let shown = false;

    function toggle(show) {
      if (show === undefined) show = !shown;
      shown = show;
      img.classList.toggle('show', shown);
    }

    // 透明ゾーンをクリック / Enter / Space でトグル
    zone.addEventListener('click', () => toggle());
    zone.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        toggle();
      }
    });

    // 画像クリックで閉じる（任意）
    img.addEventListener('click', () => toggle(false));
  </script>
</body>
</html>
